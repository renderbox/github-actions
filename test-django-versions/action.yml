name: Test Django + Python Compatibility
description: Install test deps and run pytest

inputs:
  django-version:
    required: true
  python-version:
    required: true

runs:
  using: "composite"
  steps:
    - uses: actions/setup-python@v5
      with:
        python-version: ${{ inputs.python-version }}

    - run: |
        python -m pip install --upgrade pip
        pip install -e ".[dev]"
        pip install "Django==${{ inputs.django-version }}"
      shell: bash

    - run: pytest develop
      shell: bash
      env:
        DJANGO_DEBUG: "True"
